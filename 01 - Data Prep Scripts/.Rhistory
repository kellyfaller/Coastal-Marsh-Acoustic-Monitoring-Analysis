sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob,
xmin = 2, xmax = 3,  # Change these values to the factor levels of the site names
ymin = 100, ymax = 150)
http://127.0.0.1:24907/chunk_output/B6118C30ba499832/7880B8A0/cy7owbpdppwam/00002e.png?fixed_size=1
?annotation_custom
library(ggplot2)
library(tidyverse)
library(lubridate)
library(scales)
library(ggpubr)
library(rstatix)
library(ggpmisc)
library(tibble)
library(timetk)
library(cowplot)
library(plotly)
library(dplyr)
library(tidyr)
library(RColorBrewer)
library(grid)
library(png)
library(ggimage)
install.packages("ggimage")
library(ggplot2)
library(tidyverse)
library(lubridate)
library(scales)
library(ggpubr)
library(rstatix)
library(ggpmisc)
library(tibble)
library(timetk)
library(cowplot)
library(plotly)
library(dplyr)
library(tidyr)
library(RColorBrewer)
library(grid)
library(png)
library(ggimage)
# Load the image
image_data <- data.frame(
name = "Saltmarsh Sparrow",
image = "C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob,
xmin = 2, xmax = 3,  # Change these values to the factor levels of the site names
ymin = 100, ymax = 150)
# Load the image
image_data <- data.frame(
name = "Saltmarsh Sparrow",
image = "C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
geom_image(data = image_data, aes(image = image),
size = 0.1, by = "width", nudge_y = 5)  #
# Load the image
image_data <- data.frame(
name = "Saltmarsh Sparrow",
image = "C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
geom_image(data = image_data, aes(image = image),
size = 0.1, by = "width")
# Load the image
image_data <- data.frame(
name = "Saltmarsh Sparrow",
image = "C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
geom_image(data = image_data, aes(image = image))
# Load the image
image_data <- data.frame(
name = "Saltmarsh Sparrow",
image = "C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)
View(image_data)
# Load the image
image_data <- data.frame(
name = "Saltmarsh Sparrow",
image = "C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(image_data, xmin=-Inf, xmax=Inf, ymin=-Inf, ymax=Inf)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(image_data, xmin=-Inf, xmax=Inf, ymin=-Inf, ymax=Inf)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=-Inf, xmax=Inf, ymin=-Inf, ymax=Inf)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, size=3, xmin=-Inf, xmax=Inf, ymin=-Inf, ymax=Inf)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=-Inf, xmax=Inf, ymin=-Inf, ymax=Inf)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=-Inf, xmax=Inf, ymin=155, ymax=170)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=155, xmax=170, ymin=-Inf, ymax=Inf)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=155, xmax=170, ymin=-4, ymax=5)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=155, xmax=170, ymin=0, ymax=5)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=170, xmax=175, ymin=0, ymax=5)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=150, xmax=175, ymin=0, ymax=5)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=5)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=3)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=170, xmax=175, ymin=0, ymax=3)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=2)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=165, xmax=175, ymin=0, ymax=2.5)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=165, xmax=175, ymin=0, ymax=3)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = brewer.pal(2, "Set1"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=3)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# Create the heatmap
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = c("0" = "red", "1" = "darkgreen"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=3)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# 2024
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = c("0" = "red", "1" = "darkgreen"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=3)
# 2023
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2023"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = c("0" = "red", "1" = "darkgreen"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2023 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=3)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# 2024
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = c("0" = "red", "1" = "darkgreen"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 1)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=3)
# 2023 THIS DATA SEEMS OFF. I HAD 28 SALS LAST YEAR
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2023"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = c("0" = "red", "1" = "darkgreen"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 1)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2023 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=3)
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# 2024
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = c("0" = "red", "1" = "darkgreen"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=3)
# 2023 THIS DATA SEEMS OFF. I HAD 28 SALS LAST YEAR
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2023"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = c("0" = "red", "1" = "darkgreen"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2023 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=3)
#NESP
# 2023
ggplot(species_IDs %>% filter(scientific_name == "Ammodramus nelsoni", Year == "2023"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = c("0" = "red", "1" = "darkgreen"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2023 Nelson's Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=3)
# 2023
ggplot(species_IDs %>% filter(scientific_name == "Ammodramus nelsoni", Year == "2023"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = c("0" = "red", "1" = "darkgreen"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2023 Nelson's Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=155, xmax=170, ymin=0, ymax=3)
install.packages("PresenceAbsence")
install.packages("vegan")
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(tidyverse)
library(lubridate)
library(scales)
library(ggpubr)
library(rstatix)
library(ggpmisc)
library(tibble)
library(timetk)
library(cowplot)
library(plotly)
library(dplyr)
library(tidyr)
library(RColorBrewer)
library(grid)
library(png)
library(ggimage)
# needs data prep script first
recordings<- read.csv("C:/Users/kfaller/Documents/GitHub/Acoustics/Recordings.csv", header=TRUE, sep = ",", stringsAsFactors=FALSE)
# lubridate formatting
recordings$datetime <- ymd_hms(recordings$datetime)
# loading species-specific info (pattern matching resilts, metadata)
pm_results<- read.csv("C:/Users/kfaller/Documents/GitHub/Acoustics/Arbimon Data/pattern_matching_rois.0001.csv", header=TRUE, sep = ",", stringsAsFactors=FALSE)
species_metadata<- read.csv("C:/Users/kfaller/Documents/GitHub/Acoustics/Arbimon Data/species.0001.csv", header=TRUE, sep = ",", stringsAsFactors=FALSE)
# create a new dataframe that has the species IDs with metadata associated with it
species_ID1<- merge(pm_results, species_metadata, by = "species_id")
species_IDs <- merge(species_ID1, recordings, by = "recording_id")
# Load the image
sparrow_image <- png::readPNG("C:/Users/kfaller/Documents/GitHub/Acoustics/Photos/SALS.png")  # Load your image
sparrow_grob <- rasterGrob(sparrow_image, interpolate = TRUE)
# SALS
# 2024
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2024"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = c("0" = "red", "1" = "darkgreen"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2024 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=3)
# 2023 THIS DATA SEEMS OFF. I HAD 28 SALS LAST YEAR
ggplot(species_IDs %>% filter(scientific_name == "Ammospiza caudacuta", Year == "2023"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = c("0" = "red", "1" = "darkgreen"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2023 Saltmarsh Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=160, xmax=175, ymin=0, ymax=3)
#NESP
# 2023
ggplot(species_IDs %>% filter(scientific_name == "Ammodramus nelsoni", Year == "2023"),
aes(x = Julian_Day, y = name, fill = factor(validated))) +
geom_tile(color = "white") +  # Change tile border color to white for a cleaner look
scale_fill_manual(values = c("0" = "red", "1" = "darkgreen"), name = "Presence") +
scale_x_continuous(breaks = seq(0, 365, by = 5)) +  # Use a color palette
labs(x = "Julian Day", y = "Site ID", title = "2023 Nelson's Sparrow Presence/Absence") +
theme_bw(base_size = 15)+
annotation_custom(sparrow_grob, xmin=155, xmax=170, ymin=0, ymax=3)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(lubridate)
library(bit64)
library(magrittr)
setwd('C:/Users/kfaller/Documents/GitHub/Acoustics/Arbimon Data/Recording Files')
# bind all CSV files
df<-list.files(path='C:/Users/kfaller/Documents/GitHub/Acoustics/Arbimon Data/Recording Files')%>%
lapply(read_csv) %>%
bind_rows
# Load the metadata dataset (this should be an output of Arbimon backup. Double check that the name of the CSV is the one that it created for you)
metadata <- read.csv("C:/Users/kfaller/Documents/GitHub/Acoustics/Arbimon Data/sites.0001.csv")
# merge the metadata into the recording CSV so that you have the site name, not just site number (which is arbitrarily made up by Arbimon)
recording_data<- merge(df, metadata, by = "site_id")
# Convert the datetime column to POSIXct format (adjust the format to match your data)
recording_data$datetime <- as.POSIXct(recording_data$datetime, format = "%m/%d/%Y %H:%M:%S")
# Add a new column with Julian day using lubridate's yday() function so we can make recording schedule graphics
recording_data$Julian_Day <- yday(recording_data$datetime)
# Add a new column with the year using lubridate's year() function so that we can filter by year
recording_data$Year <- year(recording_data$datetime)
write.csv(recording_data,"C:/Users/kfaller/Documents/GitHub/Acoustics/Recordings.csv", row.names = FALSE)
